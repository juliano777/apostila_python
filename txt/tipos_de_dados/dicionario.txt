Dicionários

    Em Python um dicionário é uma estrutura de dados envolta por chaves cujos elementos são compostos por chave:valor e separados por vírgula.



Dicionário vazio:

> d = {}



Criação de um dicionário utilizando a função dict:

> d = dict(chave1 = 'valor2', chave2 = 1980)



Criação de um dicionário utilizando chaves:

> d = {
    'nome': 'Chiquinho',
    'sobrenome': 'da Silva',
    'email': 'chiquinho.silva@zeninguem.com',
}



Exibir o valor de uma chave do dicionário:

> d['nome']

'Chiquinho'



Loop para exibir cada par de chave e valor do dicionário:

> for k in d:
    print(f'{k} = {d[k]}')

nome = Chiquinho
sobrenome = da Silva
email = chiquinho.silva@zeninguem.com



Loop para exibir cada par de chave e valor do dicionário ordenado por chave:

> for k in sorted(d):
    print(f'{k} = {d[k]}')

email = chiquinho.silva@zeninguem.com
nome = Chiquinho
sobrenome = da Silva



Itens do dicionário:

> d.items()

dict_items([('nome', 'Chiquinho'), ('sobrenome', 'da Silva'), ('email', 'chiquinho.silva@zeninguem.com')])



Loop sobre os itens do dicionário:

> for k, v in d.items():
    print(f'{k} = {v}')

nome = Chiquinho
sobrenome = da Silva
email = chiquinho.silva@zeninguem.com



Método para exibir as chaves do dicionário:

> d.keys()

dict_keys(['nome', 'sobrenome', 'email'])



Método para exibir as chaves do dicionário:

> d.values()

dict_values(['Chiquinho', 'da Silva', 'chiquinho.silva@zeninguem.com'])



Método para limpar o dicionário:

> d.clear()



Dicionário após a execução do método clear:

> d

{}



Método update para adicionar chaves e valores:

> d.update({
    'nome': 'Chiquinho',
    'sobrenome': 'da Silva',
    'email': 'chiquinho.silva@zeninguem.com',
})



Exibindo o conteúdo do dicionário:

> d

{'email': 'chiquinho.silva@zeninguem.com',
 'nome': 'Chiquinho',
 'sobrenome': 'da Silva'}



Adicionando uma chave e valor ao dicionário:

> d.update({'data_nascimento': '28/02/1936'})



Exibindo o conteúdo do dicionário:

> d

{'nome': 'Chiquinho',
 'sobrenome': 'da Silva',
 'email': 'chiquinho.silva@zeninguem.com',
 'data_nascimento': '28/02/1936'}



Alterando uma chave do dicionário:

> d['data_nascimento'] = '08/02/1936'



Exibindo o conteúdo do dicionário:

> d

{'nome': 'Chiquinho',
 'sobrenome': 'da Silva',
 'email': 'chiquinho.silva@zeninguem.com',
 'data_nascimento': '08/02/1936'}



Adicionando uma nova chave e valor:

> d['cidade_origem'] = 'Cascatinha'



Exibindo o conteúdo do dicionário:

> d

{'nome': 'Chiquinho',
 'sobrenome': 'da Silva',
 'email': 'chiquinho.silva@zeninguem.com',
 'data_nascimento': '08/02/1936',
 'cidade_origem': 'Cascatinha'}



    Como chave só são aceitos tipos que utilizam hash, listas não são aceitas, mas instâncias de classes e tuplas são aceitas.



Criação de uma lista e uma tupla respectivamente:

> l = [1, 2, 3]

> t = (5, 7)



Criação de uma classe para teste:

> class Funcionario(object):
    pass



Objeto da classe Funcionário:

> f1 = Funcionario()



Tentativa de fazer uma lista ser chave do dicionário e atribuir um valor:

> d[l] = 0

TypeError: unhashable type: 'list'

    Listas são "unhashable", portanto não podem ser chaves de um dicionário.



Objeto da classe Funcionário como chave do dicionário:

> d[f1] = 'Funcionário 1'



Exibir o conteúdo do dicionário:

> d

{'nome': 'Chiquinho',
 'sobrenome': 'da Silva',
 'email': 'chiquinho.silva@zeninguem.com',
 'data_nascimento': '08/02/1936',
 'cidade_origem': 'Cascatinha',
 <__main__.Funcionario at 0x7f3769ca9c88>: 'Funcionário 1'}



Tupla como chave do dicionário e atribuir um valor:

> d[t] = 0



Exibir o conteúdo do dicionário:

> d

{'nome': 'Chiquinho',
 'sobrenome': 'da Silva',
 'email': 'chiquinho.silva@zeninguem.com',
 'data_nascimento': '08/02/1936',
 'cidade_origem': 'Cascatinha',
 <__main__.Funcionario at 0x7f3769ca9c88>: 'Funcionário 1',
 (5, 7): 0}



Tentativa de acessar uma chave inexistente:

> d[endereco]

NameError: name 'endereco' is not defined



Método get:

> d.get('nome')

'Chiquinho'

    Existe a chave "nome", então seu valor foi retornado.

> d.get('endereco')

    Não existe a chave "endereço", por isso nada foi retornado, no entanto, não foi lançada exceção.

> d.get('endereco', 'R. do Cafezal, 30')

'R. do Cafezal, 30'

    Não existe a chave "endereço", mas no método get foi passado um segundo parâmetro, o qual foi retornado, porém não houve modificação no dicionário.

> d.get('nome', 'Zezinho')

'Chiquinho'

    A chave "nome" já existia, sendo um valor diferente do valor da mesma, foi retornado o valor que pertence à chave.



Criação de um dicionário:

> carro = {
    'marca': 'Fiat',
    'modelo': '147'
}

carro['cor']
KeyError: 'cor'	

carro.get('cor', 'amarelo')
'amarelo'

carro
{'marca': 'Fiat', 'modelo': '147'}

carro.setdefault('modelo', 'Topazio')
'147'

carro.setdefault('cor', 'verde')
'verde'

carro
{'cor': 'verde', 'marca': 'Fiat', 'modelo': '147'}


carro.update(modelo = 'Topazio', cor = 'cinza')

carro
{'cor': 'cinza', 'marca': 'Fiat', 'modelo': 'Topazio'}


carro.pop('cor')
'cinza'

carro
{'marca': 'Fiat', 'modelo': 'Topazio'}

carro.pop('ano')
KeyError: 'ano'

carro.pop('ano', 1981)
1981

'marca' in carro
True

'cor' in carro
False

carro['cor'] = 'cinza'

carro['ano'] = 1981


#!/usr/bin/env python
#_*_ encoding: utf8 _*_

f_sal = {
    u'Chiquinho da Silva': 5871.47,
    u'Aldebarina Santos': 3989.23,
    u'Chacorino Almeida': 3512,
    u'Barbacena Moraes': 4214.25,
    u'Tobertino Castro': 5112.98,
}

left_col = 30
right_col = 12
num_prec = 12.2

head_foot = u'{0:%s}+{1:%s}' % (left_col, right_col)
head = u'{0:%s}|{1:%s}' % (left_col, right_col)

head_foot = head_foot.format('-' * left_col, '-' * right_col)
head = head.format(u'Funcionário', u'Salário')

print(head_foot)
print(head)
print(head_foot)

total = 0.0
count = 0

for k, v in f_sal.items():
    line = u'{0:%s}|{1:>%sf}' % (left_col, num_prec)
    line = line.format(k, v)
    print(line)
    total += v
    count += 1


print(head_foot)

foot = '{0:%s}|{1:>%sf}' % (left_col, num_prec)
foot = foot.format(u'Média', (total / count))

print(foot)

print(head_foot)



------------------------------+------------
Funcionário                   |Salário     
------------------------------+------------
Chacorino Almeida             |     3512.00
Chiquinho da Silva            |     5871.47
Tobertino Castro              |     5112.98
Aldebarina Santos             |     3989.23
Barbacena Moraes              |     4214.25
------------------------------+------------
Média                         |     4539.99
------------------------------+------------
